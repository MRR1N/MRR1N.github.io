<body>

<div class="modal-bg" id="ageModal">
  <div class="modal">
    <img src="sprite1.png" alt="avatar">
    <p id="modalText">Are you adult enough?</p>
    <button id="adult-yes">Yes</button>
    <button id="adult-no">No</button>
  </div>
</div>

<header>
  <h1>MR.R1N</h1>
  <p id="header-desc">2D Furry Artist & Animator</p>
</header>

<div class="lang-switch">
  <button id="btn-en">EN</button>
  <button id="btn-ru">RU</button>
  <button id="btn-es">ES</button>
</div>

<nav>
  <a href="#">FA</a>
  <a href="#">Twitter</a>
  <a href="#">Telegram</a>
</nav>

<section>
  <div class="card">
    <h2 id="pricing-title">Pricing</h2>
    <div id="pricing-content-en" class="pricing-columns"> ... </div>
    <div id="pricing-content-ru" class="pricing-columns" style="display:none;"> ... </div>
    <div id="pricing-content-es" class="pricing-columns" style="display:none;"> ... </div>
  </div>

  <div class="card">
    <h2 class="reviews-toggle" onclick="toggleReviewForm()" id="reviews-title">Reviews</h2>
    <div id="existing-reviews"></div>
    <div id="review-write" class="review-write">
      <form class="review-form" onsubmit="submitReview(event)">
        <input id="nickname" placeholder="Nickname">
        <textarea id="review" placeholder="Your review"></textarea>
        <button type="submit">Submit</button>
      </form>
    </div>
    <div class="tos-toggle" onclick="toggleTOS()">TOS (Click to expand)</div>
    <div id="tos-content" class="tos-content"> ... </div>
  </div>
</section>

<footer>¬© MR.R1N 2025</footer>

<script>
/* --- Age modal --- */
const ageModal = document.getElementById('ageModal');
const adultYesBtn = document.getElementById('adult-yes');
const adultNoBtn = document.getElementById('adult-no');
if(localStorage.getItem('adultConfirmed')==='true') ageModal.style.display='none';
adultYesBtn.addEventListener('click',()=>{localStorage.setItem('adultConfirmed','true');ageModal.style.display='none';});
adultNoBtn.addEventListener('click',()=>{document.getElementById('modalText').textContent='Refresh the page to try again';adultYesBtn.style.display='none';adultNoBtn.style.display='none';});

/* --- Language switching --- */
function switchLang(l){
  const h=document.getElementById('header-desc'),p=document.getElementById('pricing-title'),r=document.getElementById('reviews-title');
  const n=document.getElementById('nickname'),t=document.getElementById('review');
  const b=document.querySelector('#review-write button');
  if(l==='ru'){h.textContent='2D –§—É—Ä—Ä–∏ —Ö—É–¥–æ–∂–Ω–∏–∫ –∏ –∞–Ω–∏–º–∞—Ç–æ—Ä';p.textContent='–ü—Ä–∞–π—Å-–ª–∏—Å—Ç';r.textContent='–û—Ç–∑—ã–≤—ã';n.placeholder='–ù–∏–∫–Ω–µ–π–º';t.placeholder='–í–∞—à –æ—Ç–∑—ã–≤';b.textContent='–û—Ç–ø—Ä–∞–≤–∏—Ç—å';}
  else if(l==='es'){h.textContent='Artista y Animador Furry 2D';p.textContent='Precios';r.textContent='Rese√±as';n.placeholder='Apodo';t.placeholder='Tu rese√±a';b.textContent='Enviar rese√±a';}
  else{h.textContent='2D Furry Artist & Animator';p.textContent='Pricing';r.textContent='Reviews';n.placeholder='Nickname';t.placeholder='Your review';b.textContent='Submit';}
  ['en','ru','es'].forEach(x=>document.getElementById('pricing-content-'+x).style.display='none');
  document.getElementById('pricing-content-'+l).style.display='flex';
}
document.getElementById('btn-en').addEventListener('click',()=>switchLang('en'));
document.getElementById('btn-ru').addEventListener('click',()=>switchLang('ru'));
document.getElementById('btn-es').addEventListener('click',()=>switchLang('es'));

/* --- Review form toggle --- */
function toggleReviewForm(){const r=document.getElementById('review-write');r.style.maxHeight=r.style.maxHeight&&r.style.maxHeight!=='0px'?'0':r.scrollHeight+'px';}
function toggleTOS(){const t=document.getElementById('tos-content');t.style.maxHeight=t.style.maxHeight&&t.style.maxHeight!=='0px'?'0':t.scrollHeight+'px';}

/* --- Firebase reviews (global) --- */
const reviewsList = document.getElementById('existing-reviews');

function loadReviews(){
  db.ref('reviews').once('value', snapshot=>{
    const data = snapshot.val() || [];
    reviewsList.innerHTML = '';
    data.forEach((e,i)=>{
      const d=document.createElement('div');
      d.className='review-item';
      if(sessionStorage.getItem('admin')){
        d.innerHTML=`<div class='review-avatar'>üêæ</div><strong>${e.nickname}:</strong> <span>${e.text}</span> <button class='delete-btn' data-index='${i}'>‚úñ</button>`;
      } else {
        d.innerHTML=`<div class='review-avatar'>üêæ</div><strong>${e.nickname}:</strong> <span>${e.text}</span>`;
      }
      reviewsList.appendChild(d);
    });
  });
}

function submitReview(e){
  e.preventDefault();
  const nickname=document.getElementById('nickname');
  const review=document.getElementById('review');
  if(!nickname.value.trim()){nickname.setCustomValidity('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ');nickname.reportValidity();return;} else nickname.setCustomValidity('');
  if(!review.value.trim()){review.setCustomValidity('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ');review.reportValidity();return;} else review.setCustomValidity('');
  db.ref('reviews').once('value', snapshot=>{
    const data=snapshot.val()||[];
    data.push({nickname:nickname.value,text:review.value});
    db.ref('reviews').set(data).then(()=>{
      nickname.value=''; review.value=''; loadReviews();
    });
  });
}

/* --- Delete review (admin only) --- */
reviewsList.addEventListener('click', e=>{
  if(e.target.classList.contains('delete-btn') && sessionStorage.getItem('admin')){
    const index=e.target.dataset.index;
    db.ref('reviews').once('value', snapshot=>{
      const data=snapshot.val()||[];
      data.splice(index,1);
      db.ref('reviews').set(data).then(loadReviews);
    });
  }
});

/* --- Initial load --- */
loadReviews();

/* --- Admin password check --- */
const ADMIN_HASH="–¢–í–û–ô_SHA256_HASH";
async function sha256(s){const b=new TextEncoder().encode(s);const h=await crypto.subtle.digest("SHA-256",b);return [...new Uint8Array(h)].map(x=>x.toString(16).padStart(2,'0')).join('');}
document.addEventListener("keydown", async e=>{
  if(e.ctrlKey && e.shiftKey && e.key==="8"){
    const p=prompt("Enter admin password:");
    if(!p) return;
    if(await sha256(p)===ADMIN_HASH){
      sessionStorage.setItem("admin","1");
      loadReviews();
    } else {alert("Wrong password");}
  }
});
</script>

</body>
</html>


<div class="modal-bg" id="ageModal">
  <div class="modal" id="modalContent">
    <img src="sprite1.png" alt="Character Sprite">
    <p id="modalText">Are you adult enough, buddy?</p>
    <button id="adult-yes">Yes, damn right!</button>
    <button id="adult-no">No, I'm a little tail</button>
  </div>
</div>

<header>
<h1>MR.R1N</h1>
<p id="header-desc">2D Furry Artist & Animator</p>
</header>

<div class="lang-switch">
<button id="btn-en">EN</button>
<button id="btn-ru">RU</button>
<button id="btn-es">ES</button>
</div>

<nav>
<a href="https://www.furaffinity.net/user/mr.r1n" target="_blank">FA</a>
<a href="https://x.com/MRR1N_artist" target="_blank">Twitter</a>
<a href="https://t.me/MR_R1N" target="_blank">Telegram</a>
<a href="https://trello.com/b/G2vxoD6J/current-queue-mrrin" target="_blank">Trello</a>
</nav>

<section>
<div class="card" id="pricing">
<h2 id="pricing-title">Pricing</h2>
<div id="pricing-content-en" class="pricing-columns">
<div class="pricing-column">
<h3>Art & Comics</h3>
<ul>
<li>One character: $95</li>
<li>Two characters: $160</li>
<li>One page comic (5-6 frames): $300</li>
</ul>
</div>
<div class="pricing-column">
<h3>Animation</h3>
<p>Pricing varies; contact for details.</p>
</div>
</div>
<div id="pricing-content-ru" class="pricing-columns" style="display:none;">
<div class="pricing-column">
<h3>–ê—Ä—Ç –∏ –ö–æ–º–∏–∫—Å—ã</h3>
<ul>
<li>–û–¥–∏–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂: $95</li>
<li>–î–≤–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞: $160</li>
<li>–ö–æ–º–∏–∫—Å –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É (5-6 –∫–∞–¥—Ä–æ–≤): $300</li>
</ul>
</div>
<div class="pricing-column">
<h3>–ê–Ω–∏–º–∞—Ü–∏—è</h3>
<p>–¶–µ–Ω—ã —É—Ç–æ—á–Ω—è–π—Ç–µ, –≤–∫–ª—é—á–∞—è –¥–æ–ø–ª–∞—Ç—ã.</p>
</div>
</div>
<div id="pricing-content-es" class="pricing-columns" style="display:none;">
<div class="pricing-column">
<h3>Arte y C√≥mics</h3>
<ul>
<li>Un personaje: $95</li>
<li>Dos personajes: $160</li>
<li>C√≥mic de una p√°gina (5-6 cuadros): $300</li>
</ul>
</div>
<div class="pricing-column">
<h3>Animaci√≥n</h3>
<p>Los precios var√≠an; contactar para detalles.</p>
</div>
</div>
</div>

<div class="card" id="tos">
<h2 class="tos-toggle" onclick="toggleTOS()">TOS</h2>
<div class="tos-content" id="tos-content">
<p>Here will be your Terms of Service content. Expand to read fully.</p>
</div>
</div>

<div class="card reviews">
<h2 class="reviews-toggle" id="reviews-title" onclick="toggleReviewForm()">Reviews</h2>
<div id="existing-reviews"></div>
<div class="review-write" id="review-write">
<form class="review-form" onsubmit="submitReview(event)">
<input type="text" placeholder="Nickname (English, max 37 chars)" maxlength="37" id="nickname" required>
<textarea placeholder="Your review" rows="3" id="review" required></textarea>
<button type="submit">Submit Review</button>
</form>
</div>
</div>
</section>

<footer>¬© 2025 MR.R1N. All rights reserved.</footer>

<script>
const ageModal=document.getElementById('ageModal');
const modalText=document.getElementById('modalText');
const adultYesBtn=document.getElementById('adult-yes');
const adultNoBtn=document.getElementById('adult-no');
if(localStorage.getItem('adultConfirmed')==='true') ageModal.style.display='none';
adultYesBtn.addEventListener('click',()=>{localStorage.setItem('adultConfirmed','true');ageModal.style.display='none';});
adultNoBtn.addEventListener('click',()=>{modalText.textContent='Refresh the page to try again';adultYesBtn.style.display='none';adultNoBtn.style.display='none';document.querySelector('#modalContent img').src='sprite2.png';});

function switchLang(l){
const h=document.getElementById('header-desc'),p=document.getElementById('pricing-title'),r=document.getElementById('reviews-title');
const n=document.getElementById('nickname'),t=document.getElementById('review');
const b=document.querySelector('#review-write button'),tos=document.querySelector('.tos-toggle');
if(l==='ru'){h.textContent='2D –§—É—Ä—Ä–∏ —Ö—É–¥–æ–∂–Ω–∏–∫ –∏ –∞–Ω–∏–º–∞—Ç–æ—Ä';p.textContent='–ü—Ä–∞–π—Å-–ª–∏—Å—Ç';r.textContent='–û—Ç–∑—ã–≤—ã';n.placeholder='–ù–∏–∫–Ω–µ–π–º';t.placeholder='–í–∞—à –æ—Ç–∑—ã–≤';b.textContent='–û—Ç–ø—Ä–∞–≤–∏—Ç—å';n.setCustomValidity('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ');t.setCustomValidity('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ');tos.textContent='–£—Å–ª–æ–≤–∏—è *–Ω–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å';document.getElementById('pricing-content-en').style.display='none';document.getElementById('pricing-content-ru').style.display='flex';document.getElementById('pricing-content-es').style.display='none';}
else if(l==='es'){h.textContent='Artista y Animador Furry 2D';p.textContent='Precios';r.textContent='Rese√±as (haz clic para dejar la tuya)';n.placeholder='Apodo';t.placeholder='Tu rese√±a';b.textContent='Enviar rese√±a';n.setCustomValidity('Por favor, complete este campo');t.setCustomValidity('Por favor, complete este campo');tos.textContent='T√©rminos de Servicio (clic para expandir)';document.getElementById('pricing-content-en').style.display='none';document.getElementById('pricing-content-ru').style.display='none';document.getElementById('pricing-content-es').style.display='flex';}
else{h.textContent='2D Furry Artist & Animator';p.textContent='Pricing';r.textContent='Reviews *click';n.placeholder='Nickname';t.placeholder='Your review';b.textContent='Submit';n.setCustomValidity('Please fill out this field');t.setCustomValidity('Please fill out this field');tos.textContent='TOS (Click to expand)';document.getElementById('pricing-content-en').style.display='flex';document.getElementById('pricing-content-ru').style.display='none';document.getElementById('pricing-content-es').style.display='none';}}
document.getElementById('btn-en').addEventListener('click',()=>switchLang('en'));
document.getElementById('btn-ru').addEventListener('click',()=>switchLang('ru'));
document.getElementById('btn-es').addEventListener('click',()=>switchLang('es'));

const reviewsList=document.getElementById('existing-reviews');
function loadReviews(){
const r=JSON.parse(localStorage.getItem('reviews')||'[]');reviewsList.innerHTML='';
r.forEach((e,i)=>{
const d=document.createElement('div');d.className='review-item';
if(localStorage.getItem('admin')==='true'){d.innerHTML=`<div class='review-avatar'>üêæ</div><strong>${e.nickname}:</strong> <span>${e.text}</span> <button class='delete-btn' data-index='${i}'>‚úñ</button>`;}
else{d.innerHTML=`<div class='review-avatar'>üêæ</div><strong>${e.nickname}:</strong> <span>${e.text}</span>`;}
reviewsList.appendChild(d);
});
}

function submitReview(e){
    e.preventDefault();
    const nickname = document.getElementById('nickname');
    const review = document.getElementById('review');

    if(!nickname.value.trim()){
        nickname.setCustomValidity('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ');
        nickname.reportValidity();
        return;
    } else nickname.setCustomValidity(''); // —Å–±—Ä–æ—Å –æ—à–∏–±–∫–∏

    if(!review.value.trim()){
        review.setCustomValidity('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –ø–æ–ª–µ');
        review.reportValidity();
        return;
    } else review.setCustomValidity(''); // —Å–±—Ä–æ—Å –æ—à–∏–±–∫–∏

    const r = JSON.parse(localStorage.getItem('reviews')||'[]');
    r.push({nickname:nickname.value, text:review.value});
    localStorage.setItem('reviews', JSON.stringify(r));
    loadReviews();
    nickname.value = '';
    review.value = '';
}

reviewsList.addEventListener('click',e=>{
if(e.target.classList.contains('delete-btn') && localStorage.getItem('admin')==='true'){
const i=e.target.dataset.index,r=JSON.parse(localStorage.getItem('reviews')||'[]');r.splice(i,1);localStorage.setItem('reviews',JSON.stringify(r));loadReviews();
}
});

function toggleReviewForm(){const r=document.getElementById('review-write');r.style.maxHeight=r.style.maxHeight&&r.style.maxHeight!=='0px'?'0':r.scrollHeight+'px';}
function toggleTOS(){const t=document.getElementById('tos-content');t.style.maxHeight=t.style.maxHeight&&t.style.maxHeight!=='0px'?'0':t.scrollHeight+'px';}
loadReviews();

const ADMIN_HASH = "4a00129cbb22404def25ed8d43039b4567279b9de244537af43c3b9166214b71";

async function sha256(s){
  const b = new TextEncoder().encode(s);
  const h = await crypto.subtle.digest("SHA-256", b);
  return [...new Uint8Array(h)].map(x=>x.toString(16).padStart(2,"0")).join("");
}

document.addEventListener("keydown", async e=>{

  if(e.ctrlKey && e.shiftKey && e.code==="Digit8"){
    const p = prompt("Enter admin password:"); 
    if(!p) return;
    const hash = await sha256(p.trim());
    if(hash === ADMIN_HASH){
      sessionStorage.setItem("admin","1");
      loadReviews(); 
      alert("Admin mode enabled");
    } else {
      alert("Wrong password");
    }
  }
});

</script>

</body>
</html>
